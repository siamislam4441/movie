<meta name='viewport' content='width=device-width, initial-scale=1'/>
<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Movie & Game Drive</title>
<style>
body{font-family:Arial;background:#f1f5f9;padding:20px}
h1{text-align:center}
.folder{background:#0ea5e9;color:#fff;padding:8px;margin:6px 0;border-radius:6px;cursor:pointer;display:none;}
.subfolder{display:none;margin-left:20px}
.link{display:none;margin:6px 0}
.payment-box{background:#fef3c7;padding:15px;border-radius:10px;text-align:center;margin-bottom:20px}
button{background:#22c55e;border:none;color:white;padding:8px 14px;border-radius:6px;cursor:pointer}
input{padding:8px;width:180px}
.show-pass-btn{background:#3b82f6;color:#fff;border:none;padding:8px;border-radius:6px}
a{text-decoration:none;font-weight:bold}
#searchBox{display:none;margin:15px 0;padding:8px;width:95%;}

/* AI Button */
#aiBtn{
  position:fixed;
  bottom:20px;
  right:20px;
  width:60px;
  height:60px;
  border-radius:50%;
  background:#22c55e;
  color:#fff;
  font-size:18px;
  border:none;
  cursor:pointer;
  display:none;
  z-index:999;
}

/* AI Box */
#aiBox{
  position:fixed;
  bottom:90px;
  right:20px;
  width:300px;
  background:#fff;
  border-radius:12px;
  padding:12px;
  box-shadow:0 0 15px rgba(0,0,0,.2);
  display:none;
  z-index:999;
}
#aiBox input{
  width:100%;
  margin-bottom:8px;
}
#aiResult{
  font-size:14px;
  max-height:300px;
  overflow:auto;
}
</style>
</head>
<body>

<h1>üìÇ SIAM</h1>

<div class="payment-box" id="paymentBox">
<h3>üîê ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶®</h3>
bKash / Nagad: 01775487928 <br>
Amount: 5 ‡¶ü‡¶æ‡¶ï‡¶æ <br><br>

<input type="password" id="passInput" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®">
<button class="show-pass-btn" onclick="togglePassword()">üëÅ</button><br><br>
<button onclick="unlockAll()">Access</button>

<hr>

<h4>üìß ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡ßá‡¶§‡ßá ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶¶‡¶ø‡¶®</h4>
<form id="emailForm">
<input type="email" name="email" required placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤">
<br><br>
<button type="submit">Send</button>
</form>
</div>

<!-- Search bar -->
<input type="text" id="searchBox" placeholder="üîç Movie / Series ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®..." onkeyup="searchItem()">

<!-- Movies -->
  <div class="folder" onclick="toggle('m1')">üé¨ Chainsaw Man The Movie Reze Arc</div>
  <div class="subfolder" id="m1">
    <div class="link unlock">
      <a href="https://drive.google.com/file/d/1iGwkL4uV_bWVWlUMjtw7ZQ32wmr4W8c1/preview?usp=sharing">‚ñ∂ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßã</a> | 
      <a href="https://drive.google.com/file/d/1iGwkL4uV_bWVWlUMjtw7ZQ32wmr4W8c1/view?usp=sharing">‚¨á ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°</a>
    </div>
  </div>

  <div class="folder" onclick="toggle('m2')">üé¨ Demon Slayer Kimetsu no Yaiba Infinity Castle</div>
  <div class="subfolder" id="m2">
    <div class="link unlock">
      <a href="https://drive.google.com/file/d/1bdYi--odkqzKs8DWvCNNB41fpt-e8EYe/preview?usp=sharing" target="_blank">‚ñ∂ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßã</a> |
      <a href="https://drive.google.com/file/d/1bdYi--odkqzKs8DWvCNNB41fpt-e8EYe/view?usp=sharing" target="_blank">‚¨á ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°</a>
    </div>
  </div>

</div> <!-- #movies end -->

<!-- AI Button -->
<button id="aiBtn" onclick="toggleAI()">AI</button>
<div id="aiBox">
  <input type="text" id="aiInput" placeholder="‡¶Æ‡ßÅ‡¶≠‡¶ø‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
  <button onclick="askAI()">Search</button>
  <div id="aiResult"></div>
</div>

<script>
const PASSWORD = "SIAM2025";
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyVYLvydsrfz9xrxZ29QizJfDL6HhynrgI7M9tQ_teql6Yz7ZQ_5n_vbpRQs6g5AcER/exec";
const OMDB_KEY = "ac57015f";

// Toggle subfolders
function toggle(id){ let e=document.getElementById(id); e.style.display=e.style.display==="block"?"none":"block"; }

// Unlock function
function unlockAll(){
  let p=document.getElementById("passInput").value;
  if(p===PASSWORD){
    localStorage.setItem("ok","1");
    document.querySelectorAll(".unlock").forEach(e=>e.style.display="block");
    document.getElementById("paymentBox").style.display="none";
    document.getElementById("searchBox").style.display="block";
    document.getElementById("aiBtn").style.display="block";

    // Show all folders
    document.querySelectorAll(".folder").forEach(f=>f.style.display="block");

  }else{
    alert("‡¶≠‡ßÅ‡¶≤ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°");
  }
}

// Auto unlock if previously unlocked
if(localStorage.getItem("ok")){
  document.querySelectorAll(".unlock").forEach(e=>e.style.display="block");
  document.getElementById("paymentBox").style.display="none";
  document.getElementById("searchBox").style.display="block";
  document.getElementById("aiBtn").style.display="block";
  document.querySelectorAll(".folder").forEach(f=>f.style.display="block");
}

// Toggle password visibility
function togglePassword(){ let i=document.getElementById("passInput"); i.type=i.type==="password"?"text":"password"; }

// Search functionality
function searchItem(){
  let q=document.getElementById("searchBox").value.toLowerCase();
  document.querySelectorAll(".folder").forEach(item=>{
    item.style.display=item.innerText.toLowerCase().includes(q)?"block":"none";
  });
}

// Email submit
document.getElementById("emailForm").onsubmit=function(e){
  e.preventDefault();
  fetch(SCRIPT_URL,{
    method:"POST",
    body:new URLSearchParams({email:this.email.value})
  })
  .then(()=>{ alert("‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶ üôè ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá"); })
  .catch(()=>{ alert("‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá, ‡¶™‡¶∞‡ßá ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®"); });
  this.reset();
};

// AI Functions
function toggleAI(){ let box=document.getElementById("aiBox"); box.style.display = box.style.display==="block"?"none":"block"; }

async function translateBN(text){
  const r = await fetch(
    `https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=bn&dt=t&q=${encodeURIComponent(text)}`
  );
  const d = await r.json();
  return d[0].map(x=>x[0]).join("");
}

async function askAI(){
  let q=document.getElementById("aiInput").value;
  if(!q) return;
  let res=document.getElementById("aiResult");
  res.innerHTML="AI ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ ‡¶ï‡¶∞‡¶õ‡ßá... ü§ñ";
  try{
    const r=await fetch(`https://www.omdbapi.com/?t=${encodeURIComponent(q)}&apikey=${OMDB_KEY}`);
    const d=await r.json();
    if(d.Response==="False"){ res.innerHTML="‡¶Æ‡ßÅ‡¶≠‡¶ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø ‚ùå"; return; }

    let plotBN = await translateBN(d.Plot);
    let poster = d.Poster && d.Poster !== "N/A" ? d.Poster : "https://via.placeholder.com/200x300?text=No+Image";

    res.innerHTML=`
      <img src="${poster}" alt="Poster" style="max-width:100%;border-radius:8px;margin-bottom:8px">
      <b>${d.Title} (${d.Year})</b><br>
      <b>‡¶Ö‡¶≠‡¶ø‡¶®‡ßá‡¶§‡¶æ:</b> ${d.Actors}<br><br>
      <b>‡¶™‡ßç‡¶≤‡¶ü:</b> ${plotBN}
    `;
  }catch(e){ res.innerHTML="‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶ò‡¶ü‡ßá‡¶õ‡ßá ‚ùå"; console.error(e); }
}
</script>
</body>
</html>

